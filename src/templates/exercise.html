{% extends "base.html" %}

{% block style %}
<link href="/static/css/editor.css" rel="stylesheet">
{% endblock %}

{% block body %}

{% include "header.html" %}

<div class="exercise row">

    <!-- Meta-data about the exercise, to be used by JS -->
    <div id="exercise" data-id="{{exercise.id}}" data-boilerplate-code="{{exercise.boilerplate_code}}" ></div>

    <div class="col-md-8">
        <!-- Text editor -->
        <div id="editor" class="code-area"></div>
        <button class="btn btn-submit pull-right" id="test-button">Test</button>
    </div>

    <div class="col-md-4">

        <!-- Nav tabs -->
        <ul class="nav nav-tabs">
          <li class="active"><a href="#description" data-toggle="tab">Description</a></li>
          <li><a href="#output" data-toggle="tab">Output</a></li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">

          <div class="tab-pane active description" id="description">
{{exercise.description}}
          </div>

          <div class="tab-pane output" id="output">
            No output
          </div>

        </div>


    </div>

</div>

<!-- Compilation / Execution output's template -->
{% raw %}
<script id="output-template" type="text/x-handlebars-template">
  <ul class="tests">
    {{#if compilation_error}}
      <div class="alert label-danger">
          {{breaklines compilation_log}}
      </div>
    {{else}}
      {{#each test_results}}
      {{#if success}}
        <li class="alert label-success">
          Test n&deg;{{index}}: Passed!
        </li>
      {{else}}
        <li class="alert label-danger">
          Test n&deg;{{index}}: {{reason}}
        </li>
      {{/if}}

      {{/each}}
    {{/if}}
  </ul>
</script>
{% endraw %}

{% endblock body %}


{% block javascript %}
<script src="/static/js/ace/ace.js"></script>
<script src="/static/js/editor.js"></script>
{% endblock %}
